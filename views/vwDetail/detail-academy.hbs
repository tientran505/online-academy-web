{{#section 'css'}}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
  crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" />

{{!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../plugins/bootstrap-star-rating/css/star-rating.css" media="all" type="text/css"/>

<link rel="stylesheet" href="../../plugins/bootstrap-star-rating/themes/krajee-fa/theme.css" media="all" type="text/css"/>
<link rel="stylesheet" href="../../plugins/bootstrap-star-rating/themes/krajee-svg/theme.css" media="all" type="text/css"/>
<link rel="stylesheet" href="../../plugins/bootstrap-star-rating/themes/krajee-uni/theme.css" media="all" type="text/css"/>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="../../plugins/bootstrap-star-rating/js/star-rating.js" type="text/javascript"></script>

<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/themes/krajee-svg/theme.js"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/js/locales/LANG.js"></script> --}}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/css/star-rating.css" media="all" rel="stylesheet" type="text/css" />

<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/themes/krajee-svg/theme.css" media="all" rel="stylesheet" type="text/css" />

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.1.2/js/star-rating.min.js" 
integrity="sha512-BjVoLC9Qjuh4uR64WRzkwGnbJ+05UxQZphP2n7TJE/b0D/onZ/vkhKTWpelfV6+8sLtQTUqvZQbvvGnzRZniTQ==" 
crossorigin="anonymous" 
referrerpolicy="no-referrer">
</script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/themes/krajee-svg/theme.js"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.0.7/js/locales/LANG.js"></script>

{{/section}}

{{#section 'js'}}
<script>
  $("#accordion").on("hide.bs.collapse show.bs.collapse", e => {
    $(e.target)
      .prev()
      .find("i:last-child")
      .toggleClass("fa-minus fa-plus");
  });
</script>
<script>
  function pauseVid() {
    document.querySelector('video').pause();
  }
  function getTimeOfVideo() {
    var vid = document.getElementById('video');
    var timeVidBySecond = Math.floor(vid.duration);
    
    var min = Math.floor(timeVidBySecond / 60);
    var second = timeVidBySecond % 60;

    if (min > 59) {
      var hour = Math.floor(min / 60);
      min = min % 60;
      document.getElementById('timeOfVid').innerHTML = `${hour}:${min}:${second}`;
    }
    else {
      document.getElementById('timeOfVid').innerHTML = `${min}:${second}`;
    }
  }
</script>

<script>
  $('#frmSubmit').on('submit', e => {
    e.preventDefault();

    const feedbackTxt = $('#validationTextarea').val();
    const starFeedback = $('#input-1').val();

    let isValid = true;
    console.log(starFeedback);

    $('#validationTextarea').removeClass('is-invalid');
    if (feedbackTxt.length === 0) {
      $('#validationTextarea').addClass('is-invalid');
      isValid = false;
    } 

    $('#input-1').removeClass('is-invalid');
    if (starFeedback.length === 0) {
      $('#input-1').addClass('is-invalid');
      isValid = false;
    }

    if (isValid) {
      $('#frmSubmit').off('submit').submit();
    }

  })
</script>

<script>
    $(document).on('ready', function () {
        $('.kv-gly-star').rating({
            containerClass: 'is-star'
        });
        $('.kv-gly-heart').rating({
            containerClass: 'is-heart',
            defaultCaption: '{rating} hearts',
            starCaptions: function (rating) {
                return rating == 1 ? 'One heart' : rating + ' hearts';
            },
            filledStar: '<i class="glyphicon glyphicon-heart"></i>',
            emptyStar: '<i class="glyphicon glyphicon-heart-empty"></i>'
        });
        $('.kv-fa').rating({
            theme: 'krajee-fa',
            filledStar: '<i class="fa fa-star"></i>',
            emptyStar: '<i class="fa fa-star-o"></i>'
        });
        $('.kv-fa-heart').rating({
            defaultCaption: '{rating} hearts',
            starCaptions: function (rating) {
                return rating == 1 ? 'One heart' : rating + ' hearts';
            },
            theme: 'krajee-fa',
            filledStar: '<i class="fa fa-heart"></i>',
            emptyStar: '<i class="fa fa-heart-o"></i>'
        });
        $('.kv-uni-star').rating({
            theme: 'krajee-uni',
            filledStar: '&#x2605;',
            emptyStar: '&#x2606;'
        });
        $('.kv-uni-rook').rating({
            theme: 'krajee-uni',
            defaultCaption: '{rating} rooks',
            starCaptions: function (rating) {
                return rating == 1 ? 'One rook' : rating + ' rooks';
            },
            filledStar: '&#9820;',
            emptyStar: '&#9814;'
        });
        $('.kv-svg').rating({
            theme: 'krajee-svg',
            filledStar: '<span class="krajee-icon krajee-icon-star"></span>',
            emptyStar: '<span class="krajee-icon krajee-icon-star"></span>'
        });
        $('.kv-svg-heart').rating({
            theme: 'krajee-svg',
            filledStar: '<span class="krajee-icon krajee-icon-heart"></span>',
            emptyStar: '<span class="krajee-icon krajee-icon-heart"></span>',
            defaultCaption: '{rating} hearts',
            starCaptions: function (rating) {
                return rating == 1 ? 'One heart' : rating + ' hearts';
            },
            containerClass: 'is-heart'
        });

        $('.rating,.kv-gly-star,.kv-gly-heart,.kv-uni-star,.kv-uni-rook,.kv-fa,.kv-fa-heart,.kv-svg,.kv-svg-heart').on(
                'change', function () {
                    console.log('Rating selected: ' + $(this).val());
                });
    });
</script>

{{/section}}

<div class="container-fluid p-0 m-0">
  <div class="card-header border-0" style="background-color: lightcyan;">
    <div class="card d-flex flex-row p-3 border-0" style="background-color: lightcyan;">
      <div class="col-sm-6 p-0">
        <h2 class="border-0 text-center font-weight-bold mb-4 mt-3">{{course.course_name}}</h2>
        <div class="d-flex flex-column ml-5 pl-5">
          <div class="evaluation mb-3">
            <div class="stars">
              <a class="card-text text-dark text-decoration-none" ><b class="font-weight-bold text-danger">{{course.rate}}</b>
                <small> <i class="fa fa-star" style="color: gold" id="rate" aria-hidden="true"></i>
                  <a>({{course.count_rate}} 50000 )</a>
                </small>
              </a>
            </div>
          </div>
          <div class="content mb-3">
            <div class="pl-3">
              <i class="bi bi-card-checklist pr-3"></i>
              <span>{{{course.brief_description}}}</span>
            </div>
          </div>
          <div class="number-of-student mb-3">
            <div class="pl-3">
              <i class="bi bi-person-circle pr-3"></i>
              <span> Sổ lượng học viên/lớp </span>
            </div>
          </div>
          <div class="fee mb-3">
            <div class="pl-3">
              <i class="bi bi-cash-coin pr-3"></i>
              <span>{{#if course.price}}{{format_number course.price}}đ{{else}}0đ{{/if}}</span>
            </div>
          </div>
          <div class="last-update mb-3">
            <div class="pl-3">
              {{!-- <i class="bi bi-patch-exclamation pr-3"></i> --}}
              {{!-- <span>10/12/2022</span> --}}
            </div>
          </div>
          <div class="enrollAndHeart mb-3 d-flex flex-row">
            <div class="col-sm-8">
            {{#if isRegistered}}
              <form method="post" class="w-100 h-100">
                  <button formaction="/detail/addregisteredlist" name="txtCourse" value="{{course._id}}" type="sumit" role="button" class="btn btn-outline-primary w-100 h-100" data-mdb-toggle="tooltip" title="Add to your registered list" style="right: 10px; top: 10px; z-index: 99; cursor: pointer; font-size: 16px;">
                    <i class="fa fa-usd"></i>
                    <span class="text-center">Add your course list</span>
                  </button>
              </form>
            {{else}}
              <button class="btn btn-secondary text-center w-100 h-100">
                Registered
              </button>
            {{/if}}
            </div>
            <div class="col-sm-4">
              <form method="post">
                  <button formaction="/detail/addwatchlist" name="txtCourse" value="{{course._id}}" type="sumit" role="button" class="border-0" data-mdb-toggle="tooltip" title="Add to your favorite list" style="right: 10px; top: 10px; z-index: 99; cursor: pointer; font-size: 16px; background-color: lightcyan;"><i class="{{#if course.heart}}fa fa-heart fa-2x{{else}}fa fa-heart-o fa-2x{{/if}}" style="color: crimson; background-color: lightcyan;"></i></button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 pl-4 pr-0 border-success" style="height: 300px;">
        <div class="img h-100 d-flex align-items-center justify-content-center">
          <img src="/public/imgs/{{course._id}}.png" class="border p-2 mh-100" style="border-radius: 5px; background-color: white;" alt="Not found">
        </div>
      </div>
    </div>
  </div>
  <div class="info-course" style="margin: 0 70px;">
    <div class="card-detail">
      <div class="card border-0 py-4 d-flex justify-content-around flex-row">
        <div class="col-sm-6 pl-4 pr-0 border-success" style="height: 300px;">
          <div class="img h-100 d-flex align-items-center justify-content-center">
            <img src="/public/imgs/{{course._id}}.png" class="border p-2 mh-100" style="border-radius: 5px; background-color: white;" alt="Not found">
          </div>
        </div>
        <div class="col-sm-6 pl-4 pr-0">
          <div class="container-fluid d-flex flex-column h-100">
            <h2 class="text-left font-weight-bold mb-5">Nội dung chi tiết</h2>
            <div class="jumbotron px-3 py-2 mb-4">
              <div>
                <div class="icon d-flex justify-content-start align-items-stretch">
                  <i class="bi bi-hourglass-split mr-3"></i>
                  <span class="">{{{course.detail_description}}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr width="85%" align="center">
    <div class="card-document d-flex justify-content-center flex-column">
      <div class="p-0 m-4">
        <h2 class="text-left font-weight-bold">Bài giảng</h2>
      </div>
      <div id="accordion" class="myaccordion mw-100" style="margin: 0 200px;">
        <div class="card border-0">
          <div class="card-header border-0" style="background-color: transparent;" id="headingOne">
            <h2 class="mb-0">
              <button class="d-flex align-items-center justify-content-between btn btn-link collapsed w-100 font-weight-bold p-0 text-decoration-none" data-toggle="collapse" data-target="#collapseOne"
                onclick="getTimeOfVideo()" aria-expanded="false" aria-controls="collapseOne">
                Undergraduate Studies
                <span class="fa-stack fa-sm" style="font-size: 18px;">
                  <i class="fa fa-plus" aria-hidden="true"></i>
                </span>
              </button>
            </h2>
          </div>
          <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
              <ul class="p-3">
                <div>
                  <button type="button" class="btn btn-outline-primary border-0 w-100" data-toggle="modal" data-target="#exampleModalCenter">
                    <div class="d-flex justify-content-between">
                      <div>
                        <i class="bi bi-play-circle"></i>
                        <span>Chapter 1: Javascript</span>
                      </div>
                      <div>
                        <span id="timeOfVid"></span>
                      </div>
                    </div>
                  </button>

                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-lg modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                          <button type="button" class="close" onclick="pauseVid()" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <div class="video embed-responsive embed-responsive-16by9">
                            <video controls id="video">
                              <source src="/public/imgs/01_20127027_20127355_20127468.mp4" type="video/mp4">
                            </video>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ul>
            </div>
          </div>
        </div>
        <div class="card border-0">
            <div class="card-header border-0" style="background-color: transparent;" id="headingTwo">
              <h2 class="mb-0">
                <button class="d-flex align-items-center justify-content-between btn btn-link collapsed w-100 font-weight-bold p-0 text-decoration-none" data-toggle="collapse" data-target="#collapseTwo"
                  onclick="getTimeOfVideo()" aria-expanded="false" aria-controls="collapseTwo">
                  Undergraduate Studies
                  <span class="fa-stack fa-sm" style="font-size: 18px;">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                  </span>
                </button>
              </h2>
            </div>
            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
              <div class="card-body">
                <ul class="p-3">
                  <div>
                    <button type="button" class="btn btn-outline-primary border-0 w-100" data-toggle="modal" data-target="#exampleModalCenter">
                      <div class="d-flex justify-content-between">
                        <div>
                          <i class="bi bi-play-circle"></i>
                          <span>Chapter 1: Javascript</span>
                        </div>
                        <div>
                          <span id="timeOfVid"></span>
                        </div>
                      </div>
                    </button>
                    
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                      <div class="modal-dialog modal-lg modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                            <button type="button" class="close" onclick="pauseVid()" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <div class="video embed-responsive embed-responsive-16by9">
                              <video controls id="video">
                                <source src="/public/imgs/01_20127027_20127355_20127468.mp4" type="video/mp4">
                              </video>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ul>
              </div>
            </div>
        </div>
        <div class="card border-0">
            <div class="card-header border-0" style="background-color: transparent;" id="headingThree">
              <h2 class="mb-0">
                <button class="d-flex align-items-center justify-content-between btn btn-link collapsed w-100 font-weight-bold p-0 text-decoration-none" data-toggle="collapse" data-target="#collapseThree"
                  onclick="getTimeOfVideo()" aria-expanded="false" aria-controls="collapseThree">
                  Undergraduate Studies
                  <span class="fa-stack fa-sm" style="font-size: 18px;">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                  </span>
                </button>
              </h2>
            </div>
            <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
              <div class="card-body">
                <ul class="p-3">
                  <div>
                    <button type="button" class="btn btn-outline-primary border-0 w-100" data-toggle="modal" data-target="#exampleModalCenter">
                      <div class="d-flex justify-content-between">
                        <div>
                          <i class="bi bi-play-circle"></i>
                          <span>Chapter 1: Javascript</span>
                        </div>
                        <div>
                          <span id="timeOfVid"></span>
                        </div>
                      </div>
                    </button>
                    
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                      <div class="modal-dialog modal-lg modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                            <button type="button" class="close" onclick="pauseVid()" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <div class="video embed-responsive embed-responsive-16by9">
                              <video controls id="video">
                                <source src="/public/imgs/01_20127027_20127355_20127468.mp4" type="video/mp4">
                              </video>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ul>
              </div>
            </div>
        </div>
      </div>
    </div>
    <hr width="85%" align="center">
    <div class="card-teacher">
      <div class="p-0 m-4">
        <h2 class="text-left font-weight-bold">Instructor</h2>
      </div>
      <div class="instructor mx-5">
        <div class="instructor-name">
          <a href="#" class="font-weight-bolder">
            <span>{{course.authorName}}</span>
          </a>
        </div>
        <div class="instructor-info d-flex flex-row mt-3" style="height: 130px;">
          <div class="d-flex overflow-hidden mr-4" style="border-radius: 50%; width: 130px;">
            <img class="mh-100 mw-100" src="/public/imgs/MGorDUi.png" alt="Not found">
          </div>
          <div class="rating d-flex flex-column justify-content-center">
            <div class="star mb-2">
              <i class="fa fa-star" aria-hidden="true"></i>
              <span>{{course.rate}} Instructor Rating</span>
            </div>
            <div class="reviews mb-2">
              <i class="bi bi-person-fill"></i>
              <span>123,456 Reviews</span>
            </div>
            <div class="students mb-2">
              <i class="fa fa-users" aria-hidden="true"></i>
              <span>12,456 Students</span>
            </div>
            <div class="courses mb-2">
              <i class="bi bi-play-circle-fill"></i>
              <span>2,000 Courses</span>
            </div>
          </div>
        </div>
        <div class="description mt-3">
          <span>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio adipisci quia asperiores enim molestiae tenetur excepturi laborum incidunt illum obcaecati esse aliquid, eveniet dicta
            provident, dolorum architecto veniam autem vero.
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint voluptatibus nobis ad molestias ratione, nulla dolor fuga tenetur nemo omnis, maiores tempore. Porro cupiditate fugit vitae
            voluptate tenetur animi cum.
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni unde veritatis tempora itaque, saepe tempore, nisi neque aperiam nam consectetur vel repellat sunt nostrum fuga delectus
            minus quam, ad iure.
          </span>
        </div>
      </div>
    </div>

    <hr width="85%" align="center">

    {{#if emptySlide}}

    {{else}}
    <div class="card-highlight">
      <div class="p-0 ml-4">
        <h2 class="text-left font-weight-bold">Các khoá học nổi bật</h2>
      </div>
      <div id="myCarousel" class="carousel slide" style="margin: 34px auto; padding: 0 70px;" data-ride="carousel" data-interval="0">
        <!-- Carousel indicators -->
        <ol class="carousel-indicators" style="bottom: -50px;">
          {{!-- <li data-target="#myCarousel" style="background-color: black; height: 10px; width: 11px; border-radius: 50%;" class="active"></li>
          <li data-target="#myCarousel" style="background-color: black; height: 10px; width: 11px; border-radius: 50%;"></li>
          <li data-target="#myCarousel" style="background-color: black; height: 10px; width: 11px; border-radius: 50%;"></li> --}}
          {{#each slide}}
            <li data-target="#myCarousel" style="background-color: black; height: 10px; width: 11px; border-radius: 50%;"></li>
          {{/each}}
        </ol>
        <!-- Wrapper for carousel items -->
        <div class="carousel-inner">
          {{#each slide}}
          {{#each slides}}
          <div class="item carousel-item {{#if activeSlide}}active{{/if}}">
            <div class="row d-flex justify-content-around">
              {{#each cates}}
              <div class="col-sm-3">
                <div class="thumb-wrapper position-relative text-center bg-light" style="padding: 25px 15px; border-radius: 6px;">
                  <div class="img-box border-success" style="height: 300px;">
                    <div class="img w-100 h-100 d-flex align-items-center">
                      <img src="/public/imgs/{{_id}}.png" class="border mh-100 mw-100" style="border-radius: 5px; background-color: white;" alt="{{course_name}}">
                    </div>
                  </div>
                  <div class="thumb-content">
                    <h4>{{course_name}}</h4>
                    <div class="star-rating">
                      <a class="card-text text-dark text-decoration-none" ><b class="font-weight-bold text-danger">{{rate}}</b>
                        <small> <i class="fa fa-star" style="color: gold" id="rate" aria-hidden="true"></i>
                          <a>({{count_rate}} 50000 )</a>
                        </small>
                      </a>
                    </div>
                    <p class="item-price"><strike>{{#if price}}{{format_number price}}đ{{else}}0đ{{/if}}</strike><br><b>{{format_number price}}đ</b></p>
                    <a href="#" class="btn btn-primary">Add to Cart</a>
                  </div>
                </div>
              </div>
              {{/each}}
            </div>
          </div>
          {{/each}}
          {{/each}}
        </div>
        <!-- Carousel controls -->
        <a class="carousel-control-prev" style="height: 44px; width: 40px; background-color: #72f5a2; margin: auto 0; border-radius: 4px; opacity: 0.8;" href="#myCarousel" data-slide="prev">
          <i class="bi bi-chevron-compact-left d-inline-block font-weight-bold" style="color: #ffffff; font-size: 36px; position: absolute; margin: -2px 0 0 0;z-index: 5;"></i>
        </a>
        <a class="carousel-control-next" style="height: 44px; width: 40px; background-color: #72f5a2; margin: auto 0; border-radius: 4px; opacity: 0.8;" href="#myCarousel" data-slide="next">
          <i class="bi bi-chevron-compact-right d-inline-block font-weight-bold" style="color: #ffffff; font-size: 36px; position: absolute; margin: -2px 0 0 0;z-index: 5;"></i>
        </a>
      </div>
    </div>
    <hr width="85%" align="center">
    {{/if}}

    <div id="card-rating">
      <h1 class="font-weight-bold m-0 mb-1">
          Ratings & Reviews
      </h1>
      <div class="d-inline-flex align-items-center mb-4">
        <i class="fa fa-star fa-lg mr-2" aria-hidden="true" style="color: gold;"></i>
        <h2 class="font-weight-bold m-0">
          {{avg}} course rating
        </h2>
        
        <i class="fa fa-circle mr-2 ml-4" aria-hidden="true"></i>
        <h2 class="font-weight-bold m-0">
          {{total}} ratings
        </h2>
      </div>

      <div>
        <div class="row ml-2">
          <div class="col-sm-4">
            <div class="d-flex align-items-center p-0">
              <div class="progress bar-wrapper w-50 mr-2">
                <div class="progress-bar skill-bar" role="progressbar" style="width: {{fStar.percentage}}%" aria-valuenow="{{fStar.percentage}}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1 mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <span class="p-1">{{fStar.percentage}}%</span>
            </div>

            <div class="d-flex align-items-center p-0">
              <div class="progress bar-wrapper w-50 mr-2">
                <div class="progress-bar skill-bar" role="progressbar" style="width: {{foStar.percentage}}%" aria-valuenow="{{foStar.percentage}}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1 mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <span class="p-1">{{foStar.percentage}}%</span>
            </div>

            <div class="d-flex align-items-center p-0">
              <div class="progress bar-wrapper w-50 mr-2">
                <div class="progress-bar skill-bar" role="progressbar" style="width: {{thStar.percentage}}%" aria-valuenow="{{thStar.percentage}}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1 mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <span class="p-1">{{thStar.percentage}}%</span>
            </div>

            <div class="d-flex align-items-center p-0">
              <div class="progress bar-wrapper w-50 mr-2">
                <div class="progress-bar skill-bar" role="progressbar" style="width: {{twStar.percentage}}%" aria-valuenow="{{twStar.percentage}}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1 mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <span class="p-1">{{twStar.percentage}}%</span>
            </div>

            <div class="d-flex align-items-center p-0">
              <div class="progress bar-wrapper w-50 mr-2">
                <div class="progress-bar skill-bar" role="progressbar" style="width: {{oStar.percentage}}%" aria-valuenow="{{oStar.percentage}}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div>
                <i class="fa fa-star fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <div>
                <i class="fa fa-star-o fa-lg align-middle pb-1 mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
              </div>
              <span class="p-1">{{oStar.percentage}}%</span>
            </div>
          
          </div>
          <div class="col-sm-8 d-flex flex-column justify-content-center align-items-center">

            {{#each this.course_review}}
            <div class="card mb-4 shadow w-75">
              <div class="card-body">
                <div class="d-flex">
                  <div id="avatar" class="mr-2">
                    <img src="/public/imgs/admin_avatar.png" alt="" width="50" height="50" class="rounded-circle mr-1">
                  </div>
                  <div id="title">
                    <div class="card-title">
                      <h5 class="m-0">{{user.name}}</h5> 
                    <div>

                    <div class="d-flex mb-4">
                      {{#when rating 'eq' 1}}
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                      {{/when}}

                      {{#when rating 'eq' 2}}
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                      {{/when}}

                      {{#when rating 'eq' 3}}
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                      {{/when}}

                      {{#when rating 'eq' 4}}
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star-o fa-lg mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                      {{/when}}

                      {{#when rating 'eq' 5}}
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                        <div class="align-self-center">
                          <i class="fa fa-star fa-lg mr-2" aria-hidden="true" style="color: gold; font-size:medium"></i>
                        </div>
                      {{/when}}

                      <div>
                        {{created_date}}
                      </div>
                    </div>
                  </div>
                </div>

                  </div>

                </div>
                <p class="card-text">{{content}}</p>
              </div>

            </div>
            {{/each}}

            <nav class="w-75 d-flex justify-content-center">
              <ul class="pagination">
                <li class="page-item {{#if this.prePage}}{{else}}disabled{{/if}}">
                  <a class="page-link" href="?page={{this.prePage}}#card-rating">Previous</a>
                </li>
                {{#each pageNumber}}
                  <li class="page-item {{#if isCurrent}}active{{/if}}"><a class="page-link" href="?page={{value}}#card-rating">{{value}}</a></li>
                {{/each}}
                <li class="page-item  {{#if this.nextPage}}{{else}}disabled{{/if}} "><a class="page-link" href="?page={{this.nextPage}}#card-rating">Next</a></li>
                </li>
              </ul>
            </nav>
          </div>
          
        </div>
      </div>
    </div>

    <hr width="85%" align="center">

    {{#unless isRegistered}}
    <div id="card-review">
      <form method="post" id="frmSubmit" action="/detail/review/{{course._id}}">
        <div class="card text-center" style="width: 50%; margin:auto">
          <h5 class='card-header text-center'>
            Course Review
          </h5>
          <div class="card-body">
            <img src="/public/imgs/admin_avatar.png" alt="" width="100" height="100" class="rounded-circle mb-2">
            <div class="display-4">
              <strong>Thien Tien</strong>
            </div>
            <div class="display-5 my-3">
              Click to rate
            </div>

            <div class="mb-3">
              <input id="input-1" name="rate" class="rating rating-loading" data-min="0" data-max="5" data-step="1" aria-describedby='starFeedback'>
              <div id="starFeedback" class="invalid-feedback ml-1">
                Please star a rate before submit
              </div>
            </div>

            <div class="mb-3">
              <label for="validationTextarea" class="font-weight-bold mt-4">Write a review</label>
              <textarea 
              class="form-control" 
              id="validationTextarea" 
              rows="5" 
              height="100%;" 
              placeholder="Example: Thank you for this another amazing course, I learned a lot."
              aria-describedby='feedback'
              name="content"
              ></textarea>
              <div id="feedback" class="invalid-feedback ml-1">
                Please write a review before submit.
              </div>
            </div>

            <button type='submit' class='btn btn-primary w-100'>Submit</button>
          </div>
        </div>
      </form>
    </div>
    {{/unless}}
    </div>
  </div>
</div>